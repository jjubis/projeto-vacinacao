<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <title>Sistema de Vacinação</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-masker/1.2.0/vanilla-masker.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>

    <link rel="stylesheet" href="css/vacinacao.css">

</head>
<body>
    <nav id="menu">
        <h2>--- MENU ---</h2>
        <ul>
            <li data-opcao="0">0 - Gestão de Negócio</li>
            
            <li data-opcao="1">1 - Cadastrar cidadão</li>
            <li data-opcao="2">2 - Listar cidadãos</li>
            <li data-opcao="3">3 - Atualizar cidadão</li>
            <li data-opcao="4">4 - Excluir cidadão</li>
            <li data-opcao="5">5 - Cadastrar vacina</li>
            <li data-opcao="6">6 - Listar vacinas</li>
            <li data-opcao="7">7 - Atualizar vacina</li>
            <li data-opcao="8">8 - Excluir vacina</li>
            <li data-opcao="9">9 - Cadastrar posto de saúde</li>
            <li data-opcao="10">10 - Listar postos de saúde</li>
            <li data-opcao="11">11 - Atualizar posto de saúde</li>
            <li data-opcao="12">12 - Excluir posto de saúde</li>
            <li data-opcao="13">13 - Listar status de agendamento</li>
            <li data-opcao="14">14 - Cadastrar agendamento</li>
            <li data-opcao="15">15 - Listar agendamentos detalhados</li>
            <li data-opcao="16">16 - Atualizar agendamento</li>
            <li data-opcao="17">17 - Excluir agendamento</li>
            
            <li data-opcao="S">S - Sair do Sistema</li> 
        </ul>
    </nav>

    <main>
        <section id="secao1">
            <h3>Cadastrar cidadão</h3>
            <form id="cadastroForm" novalidate>
                <label for="nome">Nome:</label>
                <input type="text" id="nome" required />

                <label for="cpf">CPF (11 dígitos):</label>
                <input type="text" id="cpf" required />

                <label for="telefone">Telefone (11 dígitos):</label>
                <input type="text" id="telefone" required />

                <label for="email">Email:</label>
                <input type="email" id="email" required />

                <label for="endereco">Endereço:</label>
                <textarea id="endereco" required></textarea>

                <button type="submit" id="cadastroCidadaoSbmt">Cadastrar</button>
            </form>
            <div id="mensagem"></div>
        </section>

        <section id="secao2">
            <h3>Lista de Cidadãos</h3>
            <button onclick="listarCidadaos()">Atualizar Lista</button>
            <div id="listaCidadaos" class="lista">
                <p>Carregando...</p>
            </div>
        </section>

        <section id="secao3">
            <h3>Atualizar cidadão</h3>
            <label>Buscar por CPF ou nome:</label>
            <input type="text" id="buscarCpfAtualizar" placeholder="Buscar..." />
            <button type="button" onclick="buscarCidadaoParaAtualizar()">Buscar</button>
            <div id="resultadoBuscaAtualizar"></div>
            
            <form id="atualizarForm" style="display:none;" novalidate>
                <input type="hidden" id="idAtualizar" />
                <label>Novo nome:</label>
                <input type="text" id="novoNome" placeholder="Deixe em branco para manter" />
                <label>Novo CPF:</label>
                <input type="text" id="novoCpf" placeholder="Deixe em branco para manter" />
                <label>Novo telefone:</label>
                <input type="text" id="novoTelefone" placeholder="Deixe em branco para manter" />
                <label>Novo email:</label>
                <input type="email" id="novoEmail" placeholder="Deixe em branco para manter" />
                <label>Novo endereço:</label>
                <textarea id="novoEndereco" placeholder="Deixe em branco para manter"></textarea>
                <button type="submit">Atualizar</button>
            </form>
            <div id="mensagemAtualizar"></div>
        </section>

        <section id="secao4">
            <h3>Excluir cidadão</h3>
            <label>Buscar por CPF ou nome:</label>
            <input type="text" id="buscarCpfExcluir" placeholder="Buscar..." />
            <button type="button" onclick="buscarCidadaoParaExcluir()">Buscar</button>
            <div id="resultadoBuscaExcluir"></div>
            <form id="excluirForm" style="display:none;">
                <input type="hidden" id="idExcluir" />
                <p>Selecionado: <span id="nomeSelecionadoExcluir" style="font-weight:bold;"></span></p>
                <button type="submit">Excluir</button>
            </form>
            <div id="mensagemExcluir"></div>
        </section>

        <section id="secao5">
            <h3>Cadastrar vacina</h3>
            <form id="cadastroVacinaForm">
                <label>Nome da vacina:</label>
                <input type="text" id="nomeVacina" required />
                <label>Fabricante:</label>
                <input type="text" id="fabricanteVacina" required />
                <label>Validade:</label>
                <input type="date" id="validadeVacina" required />
                <button type="submit">Cadastrar vacina</button>
            </form>
            <div id="mensagemVacina"></div>
        </section>

        <section id="secao6">
            <h3>Lista de Vacinas</h3>
            <button onclick="listarVacinas()">Atualizar Lista</button>
            <div id="listaVacinas" class="lista">
                <p>Carregando...</p>
            </div>
        </section>

        <section id="secao7">
            <h3>Atualizar vacina</h3>
            <label>Buscar por nome ou fabricante:</label>
            <input type="text" id="buscarVacinaAtualizar" placeholder="Buscar..." />
            <button type="button" onclick="buscarVacinaParaAtualizar()">Buscar</button>
            <div id="resultadoBuscaVacinaAtualizar"></div>
            <form id="atualizarVacinaForm" style="display:none;">
                <input type="hidden" id="idVacinaAtualizar" />
                <label>Novo nome:</label>
                <input type="text" id="novoNomeVacina" placeholder="Deixe em branco para manter" />
                <label>Novo fabricante:</label>
                <input type="text" id="novoFabricanteVacina" placeholder="Deixe em branco para manter" />
                <label>Nova validade:</label>
                <input type="date" id="novaValidadeVacina" />
                <button type="submit">Atualizar vacina</button>
            </form>
            <div id="mensagemVacinaAtualizar"></div>
        </section>

        <section id="secao8">
            <h3>Excluir vacina</h3>
            <label>Buscar por nome ou fabricante:</label>
            <input type="text" id="buscarVacinaExcluir" placeholder="Buscar..." />
            <button type="button" onclick="buscarVacinaParaExcluir()">Buscar</button>
            <div id="resultadoBuscaVacinaExcluir"></div>
            <form id="excluirVacinaForm" style="display:none;">
                <input type="hidden" id="idVacinaExcluir" />
                <p>Selecionado: <span id="nomeSelecionadoVacinaExcluir" style="font-weight:bold;"></span></p>
                <button type="submit">Excluir vacina</button>
            </form>
            <div id="mensagemVacinaExcluir"></div>
        </section>

        <section id="secao9">
            <h3>Cadastrar posto de saúde</h3>
            <form id="cadastroPostoForm">
                <label>Nome do posto:</label>
                <input type="text" id="nomePosto" required />
                <label>Endereço do posto:</label>
                <textarea id="enderecoPosto" required></textarea>
                <button type="submit">Cadastrar posto</button>
            </form>
            <div id="mensagemPosto"></div>
        </section>

        <section id="secao10">
            <h3>Lista de Postos de Saúde</h3>
            <button onclick="listarPostos()">Atualizar Lista</button>
            <div id="listaPostos" class="lista">
                <p>Carregando...</p>
            </div>
        </section>

        <section id="secao11">
            <h3>Atualizar posto de saúde</h3>
            <label>Buscar por nome:</label>
            <input type="text" id="buscarPostoAtualizar" placeholder="Buscar..." />
            <button type="button" onclick="buscarPostoParaAtualizar()">Buscar</button>
            <div id="resultadoBuscaPostoAtualizar"></div>
            <form id="atualizarPostoForm" style="display:none;">
                <input type="hidden" id="idPostoAtualizar" />
                <label>Novo nome:</label>
                <input type="text" id="novoNomePosto" placeholder="Deixe em branco para manter" />
                <label>Novo endereço:</label>
                <textarea id="novoEnderecoPosto" placeholder="Deixe em branco para manter"></textarea>
                <button type="submit">Atualizar posto</button>
            </form>
            <div id="mensagemPostoAtualizar"></div>
        </section>

        <section id="secao12">
            <h3>Excluir posto de saúde</h3>
            <label>Buscar por nome:</label>
            <input type="text" id="buscarPostoExcluir" placeholder="Buscar..." />
            <button type="button" onclick="buscarPostoParaExcluir()">Buscar</button>
            <div id="resultadoBuscaPostoExcluir"></div>
            <form id="excluirPostoForm" style="display:none;">
                <input type="hidden" id="idPostoExcluir" />
                <p>Selecionado: <span id="nomeSelecionadoPostoExcluir" style="font-weight:bold;"></span></p>
                <button type="submit">Excluir posto</button>
            </form>
            <div id="mensagemPostoExcluir"></div>
        </section>

        <section id="secao13">
            <h3>Lista de Status de Agendamento</h3>
            <button onclick="listarStatus()">Atualizar Lista</button>
            <div id="listaStatus" class="lista">
                <p>Carregando...</p>
            </div>
        </section>


        <section id="secao14">
            <h3>Cadastrar agendamento</h3>
            <form id="cadastroAgendamentoForm">
                <label>Cidadão:</label>
                <select id="cidadaoSelect" required>
                    <option value="">Selecione um cidadão</option>
                </select>

                <label>Vacina:</label>
                <select id="vacinaSelect" required>
                    <option value="">Selecione uma vacina</option>
                </select>

                <label>Posto de Saúde:</label>
                <select id="postoSelect" required>
                    <option value="">Selecione um posto</option>
                </select>

                <label>Status:</label>
                <select id="statusSelect" required>
                    <option value="">Selecione um status</option>
                </select>

                <label>Data e Hora:</label>
                <input type="datetime-local" id="dataHoraAgendamento" required />

                <button type="submit">Cadastrar agendamento</button>
            </form>
            <div id="mensagemAgendamento"></div>
        </section>

        <section id="secao15">
            <h3>Lista de Agendamentos Detalhados</h3>
            <button onclick="listarAgendamentosDetalhados()">Atualizar Lista</button>
            <div id="listaAgendamentos" class="lista">
                <p>Carregando...</p>
            </div>
        </section>

        <section id="secao16">
            <h3>Atualizar agendamento</h3>

            <label for="buscarAgendamentoAtualizar">Buscar agendamento por ID:</label>
            <input type="text" id="buscarAgendamentoAtualizar" placeholder="Digite o ID do agendamento..." />
            <button type="button" onclick="buscarAgendamentoParaAtualizar()">Buscar</button>

            <div id="resultadoBuscaAgendamentoAtualizar"></div>

            <form id="atualizarAgendamentoForm" style="display:none;" onsubmit="atualizarAgendamento(event)">
                <input type="hidden" id="idAgendamentoAtualizar" />

                <p>Selecionado: <span id="agendamentoSelecionadoAtualizar" style="font-weight: bold;"></span></p>

                <label for="novoStatusAgendamento">Novo status:</label>
                <select id="novoStatusAgendamento" required>
                    <option value="">Selecione um status</option>
                </select>

                <button type="submit">Atualizar agendamento</button>
            </form>

            <div id="mensagemAgendamentoAtualizar"></div>
        </section>


        <section id="secao17">
            <h3>Excluir agendamento</h3>
            <label>Buscar agendamento por ID:</label>
            <input type="text" id="buscarAgendamentoExcluir" placeholder="Digite o ID do agendamento..." />
            <button type="button" onclick="buscarAgendamentoParaExcluir()">Buscar</button>
            <div id="resultadoBuscaAgendamentoExcluir"></div>
            <form id="excluirAgendamentoForm" style="display:none;">
                <input type="hidden" id="idAgendamentoExcluir" />
                <p>Selecionado: <span id="agendamentoSelecionadoExcluir" style="font-weight:bold;"></span></p>
                <button type="submit">Excluir agendamento</button>
            </form>
            <div id="mensagemAgendamentoExcluir"></div>
        </section>

        <section id="secao0">
            <h3>Gestão de Negócio</h3>
            <p>Métricas Chave do Sistema de Vacinação</p>
            <div style="width: 80%; margin: 20px auto;">
                <canvas id="dashboardChart"></canvas>
            </div>
        </section>
        
        <section id="secaoS" style="display:none;">
            <h3>Sistema de Vacinação</h3>
            <p>Obrigado por usar o Sistema de Vacinação!</p>
        </section>
    </main>
    
    <script src="js/api.js"></script> 
    
    <script src="js/cidadao.js"></script> 
    <script src="js/vacina.js"></script>
    <script src="js/posto.js"></script>
    <script src="js/agendamento.js"></script>
    
    <script src="js/gestao.js"></script> 
    
    <script src="js/vacinacao.js"></script> 
</body>
</html>